<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TaskMaster</title>
  <link rel="stylesheet" href="assets/CSS/global.css">
  <link rel="stylesheet" href= "templates/background/background.css">
</head>

<body>

<div class="background-container">
    <div class="small-circle-outline"></div> 
    <div class="small-circle-outline-2"></div> 
    <div class="shape-1 blurred-orb"></div>
    <div class="shape-2 blurred-orb"></div>
     <div class="shape-3 blurred-orb"></div>
      <div class="shape-4 blurred-orb"></div>
    <div class="shape-5 triangle-kite"><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" class="text-emerald-400 opacity-70"><path d="M10 30 L50 10 L40 50 L30 35 L10 30 Z" fill="currentColor" stroke="white" stroke-width="2"/></svg></div>
    <div class="shape-6 triangle-grey ">
<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" class="text-indigo-300 opacity-60"><polygon points="20,5 30,35 10,35" fill="none" stroke="currentColor" stroke-width="3"/></svg></div>
    </div>

  <div class="app-shell">
    <div id="templates-root"></div>
  </div>
  
  <script src="assets/js/global.js"></script>
 
  <script>
    (function loadTemplates() {
      const root = document.getElementById('templates-root');
      const templates = [
        { path: 'templates/loginpage/login.html', id: 'login-template' },
        { path: 'templates/signuppage/signup.html', id: 'signup-template' },
      ];

      // Helper: fetch one file and return its text
      function fetchText(path){
        return fetch(path).then(res => {
          if (!res.ok) throw new Error('Failed to load ' + path);
          return res.text();
        });
      }

      // Load all templates in sequence and insert them into root
      Promise.all(templates.map(t => fetchText(t.path).then(html => ({ id: t.id, html })) ))
        .then(results => {
          results.forEach(r => {
            const wrapper = document.createElement('div');
            wrapper.id = r.id;
            wrapper.className = 'template';
            wrapper.style.display = 'none';
            wrapper.innerHTML = r.html;
            root.appendChild(wrapper);
          });

          // After templates injected, initialize default view
          if (window.App && typeof App.show === 'function') App.show('login-template');
          else {
            const first = document.getElementById('login-template');
            if (first) first.style.display = 'block';
          }
        })
        .catch(err => {
          root.innerHTML = '';
          console.error(err);
        });
    })();
  </script>
</body>
</html>

